# Task ID: 16
# Title: MED: Fix History Store Memory Leak
# Status: pending
# Dependencies: None
# Priority: medium
# Description: Cleanup undo manager event listeners on re-initialization
# Details:
**File:** `src/lib/stores/history.ts:26-53`

**Problem:** Listeners accumulate if initializeUndoManager called multiple times (HMR)

**Steps:**
1. Track handler reference globally
2. Remove old listeners before creating new undo manager
3. Add destroyUndoManager() cleanup function

**Impact:** Prevents listener accumulation during development

# Test Strategy:

